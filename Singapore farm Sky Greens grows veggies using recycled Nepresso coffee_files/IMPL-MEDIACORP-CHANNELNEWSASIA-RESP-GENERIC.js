function LocateTagetImage(){return FetchElement(config.targetImage)}function setImpulseWH(wXh,extraParam){ImpulseAdW=parseInt(wXh.split("x")[0]),ImpulseAdH=parseInt(wXh.split("x")[1]),log("Hail Adtech! "),AdtechAdditionalSettings(wXh)}function SetReviveFlag(){ReviveCall=!0}function SetLocation(){config.location=window.location.hostname}function SetLanguage(){lang="en"}function SetWebPlacement(){placementID=placementsWeb[urlcat],void 0==placementID&&(placementID=placementsWeb.others)}function listener(){window.innerHeight+window.pageYOffset>getAbsolutePosition(LocateTagetImage()).y&&window.pageYOffset<getAbsolutePosition(LocateTagetImage()).y+LocateTagetImage().height&&0==adloaded&&(PrepareAdtechCall(),adloaded=!0,window.removeEventListener("scroll",listener,!1))}function LoadAd(){window.addEventListener("scroll",listener,!1),listener()}function SetWapPlacement(){placementID=placementsWap[urlcat],void 0==placementID&&(placementID=placementsWap.others)}function AdtechAdditionalSettings(wXh){StyleAdContainer(LocateTagetImage())}function CustomUrlCat(){urlcat=window.location.pathname.split("/")[2]}function SetImageSrc(){jData.imgurl="http://www.channelnewsasia.com/"+FetchElement(".picture__container source").srcset.split(",")[0].split(" ")[0]}function StyleAdContainer(targetimage){if(1!==ImpulseAdW&&void 0!==ImpulseAdW){!0===WapBool?(AdContainer().style.width=ImpulseAdW+"px",AdContainer().style.marginLeft=(targetimage.width-ImpulseAdW)/2+"px",AdContainer().style.top=-ImpulseAdH+"px"):(CheckForResponsiveIframe()&&targetimage.width<ImpulseAdW?(AdContainer().style.width=targetimage.width+"px",AdContainer().style.margin="auto"):(AdContainer().style.width=ImpulseAdW+"px",AdContainer().style.marginLeft=(targetimage.width-ImpulseAdW)/2+"px"),AdContainer().style.width=targetimage.width+"px",AdContainer().style.margin="auto",AdContainer().style.top=-ImpulseAdH+"px"),AdContainer().style.position="relative",AdContainer().style.display="block";for(var InsElements=document.getElementsByTagName("ins"),i=0;i<InsElements.length;i++)InsElements[i].style.backgroundColor="transparent"}}function CheckForResponsiveIframe(){var elem=GetWapAd();return(void 0!==elem||null!=elem)&&"100%"==elem.getAttribute("style").split(";")[0].split(":")[1]}function SetLanguageTrimFlag(){LanguageTrim=!0}function GetWapAd(){return AdContainer().getElementsByTagName("iframe")[0]}function PipeLineSelector(){ScreenWidth<=768?(WapBool=!0,ExectutionPipeLine.InitPipeLine=ExectutionPipeLine.WapArticlePipeLine):ExectutionPipeLine.InitPipeLine=ExectutionPipeLine.WebArticlePipeLine}var Try={these:function(){for(var e,t=0,n=arguments.length;t<n;t++){var r=arguments[t];try{e=r();break}catch(i){}}return e}},Implax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||!1},request:function(e,t,n){var r=this.getTransport();if(r){if(null!==t&&"function"==typeof t)t.onSuccess=t;else if(!t.onSuccess)return!1;if(n){var i="",s=new Array;for(key in n)s.push(key+"="+encodeURIComponent(n[key]));i=s.join("&")}var o=i?"post":t.method?t.method:"get";if(r.open(o,e,!0),t.headers)for(header in t.headers)r.setRequestHeader("X-"+header,t.headers[header]);if("post"==o&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){if(4==r.readyState)return 200!=r.status&&304!=r.status?void(t.onFailure&&t.onFailure(r.status,r.responseText)):void t.onSuccess(r.responseText)},4!=r.readyState)return r.send(i),!0}}};!function(){function o(){if(!i&&(i=!0,s)){for(var e=0;e<s.length;e++)s[e].call(window,[]);s=[]}}function u(e){var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t&&t(),e()}}function a(){if(!r){if(r=!0,document.addEventListener&&!n.opera&&document.addEventListener("DOMContentLoaded",o,!1),n.msie&&window==top&&function(){if(!i){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}o()}}(),n.opera&&document.addEventListener("DOMContentLoaded",function(){if(!i){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].disabled)return void setTimeout(arguments.callee,0);o()}},!1),n.safari){var e;!function(){if(!i){if("loaded"!=document.readyState&&"complete"!=document.readyState)return void setTimeout(arguments.callee,0);if(void 0===e){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++)"stylesheet"==t[n].getAttribute("rel")&&e++;var r=document.getElementsByTagName("style");e+=r.length}if(document.styleSheets.length!=e)return void setTimeout(arguments.callee,0);o()}}()}u(o)}}var e=window.ImpulseReady={},t=navigator.userAgent.toLowerCase(),n={version:(t.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(t),opera:/opera/.test(t),msie:/msie/.test(t)&&!/opera/.test(t),mozilla:/mozilla/.test(t)&&!/(compatible|webkit)/.test(t)},r=!1,i=!1,s=[];e.ready=function(e,t){a(),i?e.call(window,[]):s.push(function(){return e.call(window,[])})},a()}();var TargetImage=null,ImpulseAdW=null,ImpulseAdH=null,SpeedNullifier=null,ScreenWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),WapBool=!1,firefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,adloaded=!1,placementsWeb={asiapacific:"4076",world:"4077",business:"4078",lifestyle:"4079",health:"4080",singapore:"4081",cnainsider:"4082",sport:"4083",technology:"4084",commentary:"4085",others:"4086"},placementsWap={asiapacific:"4087",world:"4088",business:"4089",lifestyle:"4090",health:"4091",singapore:"4092",cnainsider:"4093",sport:"4094",technology:"4095",commentary:"4096",others:"4097"},config={scrollerOptions:{useScroller:!1,modOpacity:!1},targetImage:".picture__image.lazyloaded",textContainer:".td-post-content",title:".article__title",captions:".picture__caption",metaTagName:"description",hTagName:"keywords",urlcat:"",location:""},ExectutionPipeLine={WebArticlePipeLine:["SetReviveFlag","SetLocation","SetLanguage","CustomUrlCat","SetWebPlacement","RemoveContainer","GatherData","SetImageSrc","MakeIPUCall","CreateAdContianer","PrepareAdtechCall()"],WapArticlePipeLine:["SetReviveFlag","SetLocation","SetLanguage","CustomUrlCat","SetWapPlacement","RemoveContainer","GatherData","SetImageSrc","MakeIPUCall","CreateAdContianer","PrepareAdtechCall()"],InitPipeLine:[]};ImpulseReady.ready(function(){PipeLineSelector(),null===FetchElement(".photo-info ")&&setTimeout(function(){PipeLineExecutor(ExectutionPipeLine.InitPipeLine,"")},3e3)}),window.addEventListener("orientationchange",function(){null!=LocateTagetImage()&&StyleAdContainer(LocateTagetImage())});